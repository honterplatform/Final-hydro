import{r as h,a as Y}from"./vendor-DsceW-4w.js";import{C as H,G as q,a as G}from"./maps-DYZHhgXn.js";import{L as X,B as Z,R as Q,a as T}from"./router-0wdrdGzY.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const x of a.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&n(x)}).observe(document,{childList:!0,subtree:!0});function i(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=i(l);fetch(l.href,a)}})();var V={exports:{}},W={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=h,te=Symbol.for("react.element"),oe=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,ne=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,se={key:!0,ref:!0,__self:!0,__source:!0};function J(d,r,i){var n,l={},a=null,x=null;i!==void 0&&(a=""+i),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(x=r.ref);for(n in r)re.call(r,n)&&!se.hasOwnProperty(n)&&(l[n]=r[n]);if(d&&d.defaultProps)for(n in r=d.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return{$$typeof:te,type:d,key:a,ref:x,props:l,_owner:ne.current}}W.Fragment=oe;W.jsx=J;W.jsxs=J;V.exports=W;var e=V.exports,K,F=Y;K=F.createRoot,F.hydrateRoot;const ie="modulepreload",le=function(d){return"/"+d},D={},L=function(r,i,n){let l=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),u=x?.nonce||x?.getAttribute("nonce");l=Promise.allSettled(i.map(v=>{if(v=le(v),v in D)return;D[v]=!0;const R=v.endsWith(".css"),M=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${M}`))return;const b=document.createElement("link");if(b.rel=R?"stylesheet":ie,R||(b.as="script"),b.crossOrigin="",b.href=v,u&&b.setAttribute("nonce",u),document.head.appendChild(b),R)return new Promise((m,C)=>{b.addEventListener("load",m),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(x){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=x,window.dispatchEvent(u),!u.defaultPrevented)throw x}return l.then(x=>{for(const u of x||[])u.status==="rejected"&&a(u.reason);return r().catch(a)})},ae=async()=>{const d=localStorage.getItem("representatives");if(d)return JSON.parse(d);const{reps:r}=await L(async()=>{const{reps:i}=await import("./reps-COx3Kz4z.js");return{reps:i}},[]);return r},ce=async d=>{const r=localStorage.getItem("representatives");let i=r?JSON.parse(r):[];if(i.length===0){const{reps:l}=await L(async()=>{const{reps:a}=await import("./reps-COx3Kz4z.js");return{reps:a}},[]);i=[...l]}const n={...d,id:Date.now()};return i.push(n),localStorage.setItem("representatives",JSON.stringify(i)),n},de=async(d,r)=>{const i=localStorage.getItem("representatives");let n=i?JSON.parse(i):[];if(n.length===0){const{reps:a}=await L(async()=>{const{reps:x}=await import("./reps-COx3Kz4z.js");return{reps:x}},[]);n=[...a]}const l=n.findIndex(a=>a.id===d);if(l!==-1)return n[l]={...n[l],...r},localStorage.setItem("representatives",JSON.stringify(n)),n[l];throw new Error("Representative not found")},pe=async d=>{const r=localStorage.getItem("representatives");let i=r?JSON.parse(r):[];if(i.length===0){const{reps:l}=await L(async()=>{const{reps:a}=await import("./reps-COx3Kz4z.js");return{reps:a}},[]);i=[...l]}const n=i.findIndex(l=>l.id===d);if(n!==-1){const l=i[n];return i.splice(n,1),localStorage.setItem("representatives",JSON.stringify(i)),l}throw new Error("Representative not found")},xe=async()=>{const{reps:d}=await L(async()=>{const{reps:r}=await import("./reps-COx3Kz4z.js");return{reps:r}},[]);return localStorage.setItem("representatives",JSON.stringify(d)),d},N=ae,ue=xe,U={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","District of Columbia":null,"American Samoa":null,Guam:null,"Commonwealth of the Northern Mariana Islands":null,"Puerto Rico":null,"United States Virgin Islands":null},z=Object.fromEntries(Object.entries(U).map(([d,r])=>[r,d])),t={colors:{bg:"#ffffff",text:"#111827",border:"#F2F2F2",assigned:"#D7D7D7",hover:"#509E2E",selected:"#509E2E",unassigned:"#F2F2F2",card:"#f9fafb"},radii:{card:16,chip:10},shadow:"0 6px 24px rgba(0,0,0,0.08)",font:"Aeonik, Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif"},ge=({visible:d,x:r,y:i,content:n})=>d?e.jsx("div",{style:{position:"absolute",left:r,top:i,transform:"translate(8px, -8px)",backgroundColor:"white",border:`1px solid ${t.colors.border}`,borderRadius:t.radii.chip,boxShadow:t.shadow,fontSize:"12px",padding:"6px 8px",pointerEvents:"none",zIndex:1e3,fontFamily:t.font,color:t.colors.text,whiteSpace:"nowrap"},children:n}):null,he=({visible:d,x:r,y:i,reps:n,stateName:l,selectedCode:a,onClose:x,onRepHover:u,onRepLeave:v})=>{const[R,M]=h.useState(!1),b=h.useRef(null);if(h.useEffect(()=>{if(d)M(!0);else{const j=setTimeout(()=>M(!1),200);return()=>clearTimeout(j)}},[d]),h.useEffect(()=>{const j=S=>{b.current&&!b.current.contains(S.target)&&x()};if(d)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[d,x]),!R)return null;const m=window.innerWidth<=768,C=m?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",maxWidth:"90vw",minWidth:"280px",maxHeight:"80vh",overflowY:"auto"}:{left:r,top:i,transform:"translate(-50%, -100%)",maxWidth:"400px",minWidth:"360px"};return e.jsxs("div",{ref:b,style:{position:"fixed",backgroundColor:"white",border:`1px solid ${t.colors.border}`,borderRadius:t.radii.card,boxShadow:t.shadow,padding:m?"12px 16px 8px 16px":"16px 20px 12px 20px",zIndex:1e3,fontFamily:t.font,color:t.colors.text,opacity:d?1:0,transition:"opacity 200ms ease",...C},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"12px",borderBottom:`1px solid ${t.colors.border}`},children:[e.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"400",color:t.colors.text},children:l}),e.jsx("button",{onClick:x,style:{background:"none",border:"none",fontSize:"20px",fontWeight:"300",cursor:"pointer",color:"#6b7280",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Ã—"})]}),n.length>0?n.flatMap((j,S)=>{const _=j.rep.split(/,\s*|\s+&\s+/).map(o=>o.trim()).filter(o=>o.length>0);return _.map((o,c)=>{const y=j.states||[],s=y.filter(g=>g!==a);return e.jsx("div",{style:{marginBottom:"8px",paddingBottom:"8px",borderBottom:S<n.length-1||c<_.length-1?`1px solid ${t.colors.border}`:"none",cursor:"pointer",borderRadius:"4px",padding:"4px",transition:"background-color 160ms ease"},onMouseEnter:()=>u&&u(y),onMouseLeave:()=>v&&v(),onMouseOver:g=>g.target.style.backgroundColor="#f9fafb",onMouseOut:g=>g.target.style.backgroundColor="transparent",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:m?"8px":"10px"},children:[j.profileImage?e.jsx("img",{src:j.profileImage,alt:`${o} profile`,style:{width:m?"40px":"48px",height:m?"40px":"48px",borderRadius:"50%",objectFit:"cover",flexShrink:0}}):e.jsx("div",{style:{width:m?"40px":"48px",height:m?"40px":"48px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("span",{style:{color:"#9ca3af",fontSize:m?"14px":"16px",fontWeight:"500"},children:o.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:m?"14px":"16px",fontWeight:"400",margin:"0 0 2px 0",color:t.colors.text},children:o}),s.length>0&&e.jsxs("p",{style:{fontSize:m?"11px":"12px",color:"#6b7280",margin:0},children:["Also available in ",s.join(", ")]})]})]}),e.jsx("a",{href:j.ctaUrl,style:{background:t.colors.selected,color:"white",border:"none",borderRadius:"6px",padding:m?"6px 12px":"8px 16px",fontSize:m?"12px":"14px",fontWeight:"400",cursor:"pointer",textDecoration:"none",display:"inline-block",transition:"background-color 160ms ease",marginLeft:m?"8px":"12px"},onMouseEnter:g=>g.target.style.backgroundColor="#15803d",onMouseLeave:g=>g.target.style.backgroundColor=t.colors.selected,children:"Let's Talk"})]})},`${S}-${c}`)})}):e.jsx("div",{style:{color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"20px"},children:"No representative assigned"})]})},fe=({onStateSelect:d,onRepHover:r,onRepLeave:i})=>{const[n,l]=h.useState(""),[a,x]=h.useState(null),[u,v]=h.useState(0),[R,M]=h.useState(0),b=10;h.useEffect(()=>{const s=()=>{M(g=>g+1)};return window.addEventListener("storage",s),window.addEventListener("repsUpdated",s),()=>{window.removeEventListener("storage",s),window.removeEventListener("repsUpdated",s)}},[]);const m=h.useMemo(()=>{const s=N(),g={};return s.forEach(E=>{E.states.forEach(w=>{g[w]||(g[w]=[]),g[w].find(P=>P.rep===E.rep)||g[w].push({rep:E.rep,states:E.states,ctaUrl:E.ctaUrl,profileImage:E.profileImage})})}),g},[R]),C=h.useMemo(()=>Object.keys(m).sort(),[m]),j=h.useMemo(()=>n?C.filter(s=>z[s].toLowerCase().includes(n.toLowerCase())):C,[C,n]),S=Math.ceil(j.length/b),_=j.slice(u*b,(u+1)*b),o=s=>{l(s),v(0)},c=s=>{x(s),d(s,m[s])},y=s=>{s.rep.split(/,\s*|\s+&\s+/).map(g=>g.trim()).filter(g=>g.length>0),s.ctaUrl&&s.ctaUrl!=="#"&&window.open(s.ctaUrl,"_blank")};return a?(m[a],e.jsxs("div",{style:{padding:"16px",height:"100vh",overflowY:"auto",backgroundColor:"white"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",paddingBottom:"12px",borderBottom:`1px solid ${t.colors.border}`},children:[e.jsx("button",{onClick:()=>x(null),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280",marginRight:"12px",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:"â†"}),e.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"400",color:t.colors.text},children:z[a]})]}),e.jsx("div",{style:{paddingBottom:"20px"},children:N().flatMap((s,g)=>s.rep.split(/,\s*|\s+&\s+/).map(w=>w.trim()).filter(w=>w.length>0).map((w,P)=>{const A=s.states||[],B=A.filter(p=>p!==a);return e.jsx("div",{style:{backgroundColor:"#f9fafb",borderRadius:"8px",padding:"16px",marginBottom:"12px",border:`1px solid ${t.colors.border}`,cursor:"pointer",transition:"background-color 160ms ease"},onMouseEnter:()=>r&&r(A),onMouseLeave:()=>i&&i(),onTouchStart:()=>r&&r(A),onTouchEnd:()=>i&&i(),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[s.profileImage?e.jsx("img",{src:s.profileImage,alt:`${w} profile`,style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",flexShrink:0}}):e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("span",{style:{color:"#9ca3af",fontSize:"18px",fontWeight:"500"},children:w.charAt(0).toUpperCase()})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"400",margin:"0 0 4px 0",color:t.colors.text},children:w}),B.length>0&&e.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:["Also available in ",B.join(", ")]})]})]}),e.jsx("button",{onClick:()=>y(s),style:{background:t.colors.selected,color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"background-color 160ms ease",marginLeft:"12px"},onMouseEnter:p=>p.target.style.backgroundColor="#15803d",onMouseLeave:p=>p.target.style.backgroundColor=t.colors.selected,children:"Let's Talk"})]})},`${g}-${P}`)}))})]})):e.jsxs("div",{style:{padding:"16px",height:"100vh",overflowY:"auto",backgroundColor:"white"},children:[e.jsxs("div",{style:{marginBottom:"20px",paddingBottom:"12px",borderBottom:`1px solid ${t.colors.border}`},children:[e.jsx("h1",{style:{margin:"0 0 16px 0",fontSize:"24px",fontWeight:"400",color:t.colors.text},children:"Find Your Rep"}),e.jsx("input",{type:"text",placeholder:"Search states...",value:n,onChange:s=>o(s.target.value),style:{width:"100%",padding:"12px 16px",border:`1px solid ${t.colors.border}`,borderRadius:"8px",fontSize:"16px",fontFamily:t.font,outline:"none",backgroundColor:"white"},onFocus:s=>s.target.style.borderColor=t.colors.selected,onBlur:s=>s.target.style.borderColor=t.colors.border})]}),e.jsx("div",{children:_.length>0?e.jsxs(e.Fragment,{children:[_.map(s=>e.jsx("div",{onClick:()=>c(s),style:{padding:"12px 16px",borderBottom:`1px solid ${t.colors.border}`,cursor:"pointer",transition:"background-color 160ms ease"},onMouseEnter:g=>g.target.style.backgroundColor="#f9fafb",onMouseLeave:g=>g.target.style.backgroundColor="white",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 2px 0",fontSize:"15px",fontWeight:"400",color:t.colors.text},children:z[s]}),e.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#6b7280"},children:[m[s].length," rep",m[s].length!==1?"s":""]})]}),e.jsx("div",{style:{color:"#9ca3af",fontSize:"14px"},children:"â†’"})]})},s)),S>1&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"16px",gap:"8px"},children:[e.jsx("button",{onClick:()=>v(Math.max(0,u-1)),disabled:u===0,style:{background:u===0?"#f3f4f6":t.colors.selected,color:u===0?"#9ca3af":"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",cursor:u===0?"not-allowed":"pointer",opacity:u===0?.5:1},children:"Previous"}),e.jsxs("span",{style:{fontSize:"12px",color:"#6b7280",padding:"0 8px"},children:[u+1," of ",S]}),e.jsx("button",{onClick:()=>v(Math.min(S-1,u+1)),disabled:u===S-1,style:{background:u===S-1?"#f3f4f6":t.colors.selected,color:u===S-1?"#9ca3af":"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",cursor:u===S-1?"not-allowed":"pointer",opacity:u===S-1?.5:1},children:"Next"})]})]}):e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#6b7280"},children:n?"No states found matching your search.":"No states available."})})]})},me="_mapContainer_cqq93_1",ye="_mapSvg_cqq93_10",be="_statePath_cqq93_15",O={mapContainer:me,mapSvg:ye,statePath:be},ve=()=>{const[d,r]=h.useState(null),[i,n]=h.useState(null),[l,a]=h.useState({x:0,y:0}),[x,u]=h.useState({x:0,y:0}),[v,R]=h.useState(!1),[M,b]=h.useState(!1),[m,C]=h.useState([]),[j,S]=h.useState(0);h.useEffect(()=>{const p=()=>{b(window.innerWidth<=768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),h.useEffect(()=>{const p=()=>{S(f=>f+1)};return window.addEventListener("storage",p),window.addEventListener("repsUpdated",p),()=>{window.removeEventListener("storage",p),window.removeEventListener("repsUpdated",p)}},[]);const[_,o]=h.useState([]);h.useEffect(()=>{(async()=>{try{const f=await N();o(f)}catch(f){console.error("Error loading reps:",f),o([])}})()},[j]);const c=h.useMemo(()=>{const p={};return _.forEach(f=>{f.states&&Array.isArray(f.states)&&f.states.forEach(I=>{p[I]||(p[I]=[]),p[I].find(k=>k.rep===f.rep)||p[I].push({rep:f.rep,states:f.states,ctaUrl:f.ctaUrl,profileImage:f.profileImage})})}),p},[_]),y=(p,f)=>{n(p),u({x:f.clientX,y:f.clientY}),R(!0)},s=()=>{R(!1),n(null)},g=(p,f)=>{n(p),R(!0)},E=p=>{C(p)},w=()=>{C([])},P=p=>i===p?t.colors.selected:d===p?t.colors.hover:m.includes(p)?"#E8F5E8":c[p]&&c[p].length>0?t.colors.assigned:t.colors.unassigned,A=p=>{z[p];const f=c[p];if(f&&f.length>0){const I=f.map(k=>k.rep).join(", ");return`${p} â€¢ ${I}`}return`${p} â€¢ No rep assigned`},B=i?c[i]||[]:[];return M?e.jsx("div",{className:O.mapContainer,children:e.jsx(fe,{onStateSelect:g,onRepHover:E,onRepLeave:w})}):e.jsxs("div",{className:O.mapContainer,children:[e.jsx(H,{projection:"geoAlbersUsa",projectionConfig:{scale:1e3,translate:[400,200]},className:O.mapSvg,children:e.jsx(q,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",children:({geographies:p})=>p.filter(f=>U[f.properties.name]).map(f=>{const I=U[f.properties.name];return e.jsx(G,{geography:f,fill:P(I),stroke:"white",strokeWidth:.8,className:O.statePath,onMouseEnter:()=>r(I),onMouseLeave:()=>r(null),onMouseMove:k=>{const $=k.currentTarget.closest("svg").getBoundingClientRect();a({x:k.clientX-$.left,y:k.clientY-$.top})},onClick:k=>y(I,k),role:"button",tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),y(I,k))}},f.rsmKey)})})}),e.jsx(ge,{visible:d!==null,x:l.x,y:l.y,content:d?A(d):""}),e.jsx(he,{visible:v,x:x.x,y:x.y,reps:B,stateName:i?z[i]:"",selectedCode:i,onClose:s,onRepHover:E,onRepLeave:w})]})},je=()=>e.jsx("div",{style:{width:"100%",height:"100vh",backgroundColor:t.colors.bg,fontFamily:t.font,margin:0,padding:0,boxSizing:"border-box",overflow:"hidden",position:"relative"},children:e.jsx(ve,{})}),Se=({onClose:d})=>{const[r,i]=h.useState(null),[n,l]=h.useState(null),[a,x]=h.useState({rep:"",states:[],ctaUrl:"",profileImage:""});h.useEffect(()=>{(async()=>{try{const c=await N();i(c)}catch(c){console.error("Failed to load representatives:",c),L(async()=>{const{reps:y}=await import("./reps-COx3Kz4z.js");return{reps:y}},[]).then(({reps:y})=>{i(y)})}})()},[]),h.useEffect(()=>{r!==null&&window.dispatchEvent(new CustomEvent("repsUpdated"))},[r]);const u=(o,c)=>{x(y=>({...y,[o]:c}))},v=o=>{x(c=>({...c,states:c.states.includes(o)?c.states.filter(y=>y!==o):[...c.states,o]}))},R=o=>{const c=o.target.files[0];if(c){if(!c.type.startsWith("image/")){alert("Please select an image file.");return}if(c.size>2*1024*1024){alert("Image size must be less than 2MB.");return}const y=new FileReader;y.onload=s=>{x(g=>({...g,profileImage:s.target.result}))},y.readAsDataURL(c)}},M=()=>{x(o=>({...o,profileImage:""}))},b=async o=>{if(o.preventDefault(),!a.rep.trim()||a.states.length===0){alert("Representative name and at least one state are required.");return}try{const c={rep:a.rep.trim(),states:a.states,ctaUrl:a.ctaUrl||"#",profileImage:a.profileImage||null};if(n!==null){const y=await de(r[n].id,c);i(s=>s.map((g,E)=>E===n?y:g))}else{const y=await ce(c);i(s=>[...s,y])}x({rep:"",states:[],ctaUrl:"",profileImage:""}),l(null)}catch(c){console.error("Error saving representative:",c),alert("Failed to save representative. Please try again.")}},m=o=>{const c=r[o];x(c),l(o)},C=async o=>{if(window.confirm("Are you sure you want to delete this representative?"))try{await pe(r[o].id),i(c=>c.filter((y,s)=>s!==o))}catch(c){console.error("Error deleting representative:",c),alert("Failed to delete representative. Please try again.")}},j=()=>{x({rep:"",states:[],ctaUrl:"",profileImage:""}),l(null)},S=async()=>{if(window.confirm("This will reset all data to the original representatives. Are you sure?"))try{await ue();const o=await N();i(o)}catch(o){console.error("Error resetting representatives:",o),alert("Failed to reset representatives. Please try again.")}},_=Object.keys(z).sort();return r===null?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",fontFamily:t.font},children:e.jsx("div",{style:{backgroundColor:"white",borderRadius:t.radii.card,padding:"40px",textAlign:"center",boxShadow:t.shadow,border:`1px solid ${t.colors.border}`},children:e.jsx("p",{style:{margin:0,color:t.colors.text},children:"Loading representatives..."})})}):e.jsxs("div",{style:{backgroundColor:"white",borderRadius:t.radii.card,padding:"20px",maxWidth:"800px",width:"100%",margin:"0 auto",fontFamily:t.font,boxShadow:t.shadow,border:`1px solid ${t.colors.border}`},children:[e.jsx("div",{style:{marginBottom:"20px",paddingBottom:"12px",borderBottom:`1px solid ${t.colors.border}`},children:e.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"400",color:t.colors.text},children:"Manage Representatives"})}),e.jsxs("form",{onSubmit:b,style:{marginBottom:"24px"},children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"400",color:t.colors.text},children:"Representative Name(s)"}),e.jsx("input",{type:"text",value:a.rep,onChange:o=>u("rep",o.target.value),placeholder:"e.g., John Smith, Jane Doe & Bob Johnson",style:{width:"100%",padding:"10px 14px",border:`1px solid ${t.colors.border}`,borderRadius:"6px",fontSize:"14px",fontFamily:t.font,outline:"none",backgroundColor:"white"},onFocus:o=>o.target.style.borderColor=t.colors.selected,onBlur:o=>o.target.style.borderColor=t.colors.border}),e.jsx("p",{style:{margin:"2px 0 0 0",fontSize:"11px",color:"#6b7280"},children:'Separate multiple names with commas or "&"'})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"400",color:t.colors.text},children:"Profile Image"}),a.profileImage?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",border:`1px solid ${t.colors.border}`,borderRadius:"6px",backgroundColor:t.colors.card},children:[e.jsx("img",{src:a.profileImage,alt:"Profile preview",style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",border:`1px solid ${t.colors.border}`}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{margin:"0 0 2px 0",fontSize:"12px",color:t.colors.text},children:"Image uploaded"}),e.jsx("button",{type:"button",onClick:M,style:{background:"#dc2626",color:"white",border:"none",borderRadius:"4px",padding:"2px 6px",fontSize:"11px",cursor:"pointer"},children:"Remove"})]})]}):e.jsxs("div",{style:{border:`1px dashed ${t.colors.border}`,borderRadius:"6px",padding:"16px",textAlign:"center",backgroundColor:t.colors.card,cursor:"pointer",transition:"border-color 160ms ease"},onClick:()=>document.getElementById("imageUpload").click(),onMouseEnter:o=>o.target.style.borderColor=t.colors.selected,onMouseLeave:o=>o.target.style.borderColor=t.colors.border,children:[e.jsx("div",{style:{fontSize:"20px",color:"#9ca3af",marginBottom:"6px"},children:"ðŸ“·"}),e.jsx("p",{style:{margin:"0 0 2px 0",fontSize:"12px",color:t.colors.text},children:"Click to upload profile image"}),e.jsx("p",{style:{margin:0,fontSize:"11px",color:"#6b7280"},children:"PNG, JPG up to 2MB"})]}),e.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:R,style:{display:"none"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"400",color:t.colors.text},children:"States Covered"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"6px",maxHeight:"180px",overflowY:"auto",padding:"10px",border:`1px solid ${t.colors.border}`,borderRadius:"6px",backgroundColor:t.colors.card},children:_.map(o=>e.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",color:t.colors.text},children:[e.jsx("input",{type:"checkbox",checked:a.states.includes(o),onChange:()=>v(o),style:{marginRight:"6px"}}),z[o]]},o))})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"400",color:t.colors.text},children:"CTA URL"}),e.jsx("input",{type:"url",value:a.ctaUrl,onChange:o=>u("ctaUrl",o.target.value),placeholder:"https://example.com/contact",style:{width:"100%",padding:"10px 14px",border:`1px solid ${t.colors.border}`,borderRadius:"6px",fontSize:"14px",fontFamily:t.font,outline:"none",backgroundColor:"white"},onFocus:o=>o.target.style.borderColor=t.colors.selected,onBlur:o=>o.target.style.borderColor=t.colors.border})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{type:"submit",style:{background:t.colors.selected,color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"400",cursor:"pointer",transition:"background-color 160ms ease"},onMouseEnter:o=>o.target.style.backgroundColor="#15803d",onMouseLeave:o=>o.target.style.backgroundColor=t.colors.selected,children:n!==null?"Update Representative":"Add Representative"}),n!==null&&e.jsx("button",{type:"button",onClick:j,style:{background:"#6b7280",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"400",cursor:"pointer"},children:"Cancel"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsxs("h3",{style:{margin:0,fontSize:"16px",fontWeight:"400",color:t.colors.text},children:["Current Representatives (",r.length,")"]}),e.jsx("button",{onClick:S,style:{background:"#dc2626",color:"white",border:"none",borderRadius:"4px",padding:"6px 12px",fontSize:"12px",cursor:"pointer"},children:"Reset to Original"})]}),e.jsxs("div",{style:{maxHeight:"280px",overflowY:"auto",border:`1px solid ${t.colors.border}`,borderRadius:"6px",backgroundColor:t.colors.card},children:[r.map((o,c)=>e.jsxs("div",{style:{padding:"12px 16px",borderBottom:c<r.length-1?`1px solid ${t.colors.border}`:"none",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",margin:"0",borderRadius:c===0?"6px 6px 0 0":c===r.length-1?"0 0 6px 6px":"0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[o.profileImage?e.jsx("img",{src:o.profileImage,alt:`${o.rep} profile`,style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",border:`1px solid ${t.colors.border}`,flexShrink:0}}):e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("span",{style:{color:"#9ca3af",fontSize:"16px",fontWeight:"500"},children:o.rep.charAt(0).toUpperCase()})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{margin:"0 0 2px 0",fontSize:"14px",fontWeight:"400",color:t.colors.text},children:o.rep}),e.jsxs("p",{style:{margin:"0 0 2px 0",fontSize:"12px",color:"#6b7280"},children:["States: ",o.states.map(y=>z[y]).join(", ")]}),e.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#9ca3af"},children:["URL: ",o.ctaUrl||"Not set"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{onClick:()=>m(c),style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"11px",cursor:"pointer"},children:"Edit"}),e.jsx("button",{onClick:()=>C(c),style:{background:"#dc2626",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"11px",cursor:"pointer"},children:"Delete"})]})]},c)),r.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"No representatives added yet."})]})]})]})},we=()=>e.jsxs("div",{style:{width:"100%",minHeight:"100vh",backgroundColor:t.colors.bg,fontFamily:t.font,margin:0,padding:0,boxSizing:"border-box"},children:[e.jsxs("div",{style:{backgroundColor:"white",borderBottom:`1px solid ${t.colors.border}`,padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:"400",color:t.colors.text},children:"Admin Panel"}),e.jsx(X,{to:"/",style:{background:t.colors.selected,color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"400",cursor:"pointer",textDecoration:"none",transition:"background-color 160ms ease"},onMouseEnter:d=>d.target.style.backgroundColor="#15803d",onMouseLeave:d=>d.target.style.backgroundColor=t.colors.selected,children:"â† Back to Map"})]}),e.jsx("div",{style:{padding:"20px"},children:e.jsx(Se,{onClose:()=>window.history.back()})})]});function Re(){return e.jsx(Z,{children:e.jsxs(Q,{children:[e.jsx(T,{path:"/",element:e.jsx(je,{})}),e.jsx(T,{path:"/admin",element:e.jsx(we,{})})]})})}K(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(Re,{})}));
